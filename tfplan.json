{"format_version":"1.2","terraform_version":"1.5.7","variables":{"allowed_ips":{"value":["122.161.50.132/32"]},"backend_subnet_name":{"value":"backend"},"backend_subnet_prefix":{"value":"10.12.19.64/26"},"db_subnet_name":{"value":"db"},"db_subnet_prefix":{"value":"10.12.19.128/26"},"frontend_nsg_name":{"value":"frontend-nsg"},"frontend_subnet_name":{"value":"frontend"},"frontend_subnet_prefix":{"value":"10.12.19.0/26"},"location":{"value":"East US"},"resource_group_name":{"value":"myResourceGroup"},"vnet_address_space":{"value":"10.12.19.0/24"},"vnet_name":{"value":"myVnet"}},"planned_values":{"outputs":{"backend_subnet_id":{"sensitive":false},"db_subnet_id":{"sensitive":false},"frontend_nsg_id":{"sensitive":false},"frontend_subnet_id":{"sensitive":false},"resource_group_name":{"sensitive":false,"type":"string","value":"myResourceGroup"},"vnet_name":{"sensitive":false,"type":"string","value":"myVnet"}},"root_module":{"resources":[{"address":"azurerm_network_security_group.frontend_nsg","mode":"managed","type":"azurerm_network_security_group","name":"frontend_nsg","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"location":"eastus","name":"frontend-nsg","resource_group_name":"myResourceGroup","tags":null,"timeouts":null},"sensitive_values":{"security_rule":[]}},{"address":"azurerm_network_security_rule.allow_frontend","mode":"managed","type":"azurerm_network_security_rule","name":"allow_frontend","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"access":"Allow","description":null,"destination_address_prefix":"*","destination_address_prefixes":null,"destination_application_security_group_ids":null,"destination_port_range":null,"destination_port_ranges":["443","80"],"direction":"Inbound","name":"AllowFrontend","network_security_group_name":"frontend-nsg","priority":100,"protocol":"*","resource_group_name":"myResourceGroup","source_address_prefix":null,"source_address_prefixes":["122.161.50.132/32"],"source_application_security_group_ids":null,"source_port_range":"*","source_port_ranges":null,"timeouts":null},"sensitive_values":{"destination_port_ranges":[false,false],"source_address_prefixes":[false]}},{"address":"azurerm_resource_group.rg","mode":"managed","type":"azurerm_resource_group","name":"rg","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"location":"eastus","managed_by":null,"name":"myResourceGroup","tags":null,"timeouts":null},"sensitive_values":{}},{"address":"azurerm_subnet.backend","mode":"managed","type":"azurerm_subnet","name":"backend","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefixes":["10.12.19.64/26"],"delegation":[],"name":"backend","resource_group_name":"myResourceGroup","service_endpoint_policy_ids":null,"service_endpoints":null,"timeouts":null,"virtual_network_name":"myVnet"},"sensitive_values":{"address_prefixes":[false],"delegation":[]}},{"address":"azurerm_subnet.db","mode":"managed","type":"azurerm_subnet","name":"db","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefixes":["10.12.19.128/26"],"delegation":[],"name":"db","resource_group_name":"myResourceGroup","service_endpoint_policy_ids":null,"service_endpoints":null,"timeouts":null,"virtual_network_name":"myVnet"},"sensitive_values":{"address_prefixes":[false],"delegation":[]}},{"address":"azurerm_subnet.frontend","mode":"managed","type":"azurerm_subnet","name":"frontend","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_prefixes":["10.12.19.0/26"],"delegation":[],"name":"frontend","resource_group_name":"myResourceGroup","service_endpoint_policy_ids":null,"service_endpoints":null,"timeouts":null,"virtual_network_name":"myVnet"},"sensitive_values":{"address_prefixes":[false],"delegation":[]}},{"address":"azurerm_subnet_network_security_group_association.frontend_association","mode":"managed","type":"azurerm_subnet_network_security_group_association","name":"frontend_association","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"timeouts":null},"sensitive_values":{}},{"address":"azurerm_virtual_network.vnet","mode":"managed","type":"azurerm_virtual_network","name":"vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"address_space":["10.12.19.0/24"],"bgp_community":null,"ddos_protection_plan":[],"edge_zone":null,"encryption":[],"flow_timeout_in_minutes":null,"location":"eastus","name":"myVnet","resource_group_name":"myResourceGroup","tags":null,"timeouts":null},"sensitive_values":{"address_space":[false],"ddos_protection_plan":[],"dns_servers":[],"encryption":[],"subnet":[]}}]}},"resource_changes":[{"address":"azurerm_network_security_group.frontend_nsg","mode":"managed","type":"azurerm_network_security_group","name":"frontend_nsg","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"location":"eastus","name":"frontend-nsg","resource_group_name":"myResourceGroup","tags":null,"timeouts":null},"after_unknown":{"id":true,"security_rule":true},"before_sensitive":false,"after_sensitive":{"security_rule":[]}}},{"address":"azurerm_network_security_rule.allow_frontend","mode":"managed","type":"azurerm_network_security_rule","name":"allow_frontend","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"access":"Allow","description":null,"destination_address_prefix":"*","destination_address_prefixes":null,"destination_application_security_group_ids":null,"destination_port_range":null,"destination_port_ranges":["443","80"],"direction":"Inbound","name":"AllowFrontend","network_security_group_name":"frontend-nsg","priority":100,"protocol":"*","resource_group_name":"myResourceGroup","source_address_prefix":null,"source_address_prefixes":["122.161.50.132/32"],"source_application_security_group_ids":null,"source_port_range":"*","source_port_ranges":null,"timeouts":null},"after_unknown":{"destination_port_ranges":[false,false],"id":true,"source_address_prefixes":[false]},"before_sensitive":false,"after_sensitive":{"destination_port_ranges":[false,false],"source_address_prefixes":[false]}}},{"address":"azurerm_resource_group.rg","mode":"managed","type":"azurerm_resource_group","name":"rg","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"location":"eastus","managed_by":null,"name":"myResourceGroup","tags":null,"timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"azurerm_subnet.backend","mode":"managed","type":"azurerm_subnet","name":"backend","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"address_prefixes":["10.12.19.64/26"],"delegation":[],"name":"backend","resource_group_name":"myResourceGroup","service_endpoint_policy_ids":null,"service_endpoints":null,"timeouts":null,"virtual_network_name":"myVnet"},"after_unknown":{"address_prefixes":[false],"delegation":[],"enforce_private_link_endpoint_network_policies":true,"enforce_private_link_service_network_policies":true,"id":true,"private_endpoint_network_policies":true,"private_endpoint_network_policies_enabled":true,"private_link_service_network_policies_enabled":true},"before_sensitive":false,"after_sensitive":{"address_prefixes":[false],"delegation":[]}}},{"address":"azurerm_subnet.db","mode":"managed","type":"azurerm_subnet","name":"db","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"address_prefixes":["10.12.19.128/26"],"delegation":[],"name":"db","resource_group_name":"myResourceGroup","service_endpoint_policy_ids":null,"service_endpoints":null,"timeouts":null,"virtual_network_name":"myVnet"},"after_unknown":{"address_prefixes":[false],"delegation":[],"enforce_private_link_endpoint_network_policies":true,"enforce_private_link_service_network_policies":true,"id":true,"private_endpoint_network_policies":true,"private_endpoint_network_policies_enabled":true,"private_link_service_network_policies_enabled":true},"before_sensitive":false,"after_sensitive":{"address_prefixes":[false],"delegation":[]}}},{"address":"azurerm_subnet.frontend","mode":"managed","type":"azurerm_subnet","name":"frontend","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"address_prefixes":["10.12.19.0/26"],"delegation":[],"name":"frontend","resource_group_name":"myResourceGroup","service_endpoint_policy_ids":null,"service_endpoints":null,"timeouts":null,"virtual_network_name":"myVnet"},"after_unknown":{"address_prefixes":[false],"delegation":[],"enforce_private_link_endpoint_network_policies":true,"enforce_private_link_service_network_policies":true,"id":true,"private_endpoint_network_policies":true,"private_endpoint_network_policies_enabled":true,"private_link_service_network_policies_enabled":true},"before_sensitive":false,"after_sensitive":{"address_prefixes":[false],"delegation":[]}}},{"address":"azurerm_subnet_network_security_group_association.frontend_association","mode":"managed","type":"azurerm_subnet_network_security_group_association","name":"frontend_association","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"timeouts":null},"after_unknown":{"id":true,"network_security_group_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"azurerm_virtual_network.vnet","mode":"managed","type":"azurerm_virtual_network","name":"vnet","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"address_space":["10.12.19.0/24"],"bgp_community":null,"ddos_protection_plan":[],"edge_zone":null,"encryption":[],"flow_timeout_in_minutes":null,"location":"eastus","name":"myVnet","resource_group_name":"myResourceGroup","tags":null,"timeouts":null},"after_unknown":{"address_space":[false],"ddos_protection_plan":[],"dns_servers":true,"encryption":[],"guid":true,"id":true,"subnet":true},"before_sensitive":false,"after_sensitive":{"address_space":[false],"ddos_protection_plan":[],"dns_servers":[],"encryption":[],"subnet":[]}}}],"output_changes":{"backend_subnet_id":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"db_subnet_id":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"frontend_nsg_id":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"frontend_subnet_id":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"resource_group_name":{"actions":["create"],"before":null,"after":"myResourceGroup","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"vnet_name":{"actions":["create"],"before":null,"after":"myVnet","after_unknown":false,"before_sensitive":false,"after_sensitive":false}},"prior_state":{"format_version":"1.0","terraform_version":"1.5.7","values":{"outputs":{"resource_group_name":{"sensitive":false,"value":"myResourceGroup","type":"string"},"vnet_name":{"sensitive":false,"value":"myVnet","type":"string"}},"root_module":{}}},"configuration":{"provider_config":{"azurerm":{"name":"azurerm","full_name":"registry.terraform.io/hashicorp/azurerm","version_constraint":"3.106.0","expressions":{"client_id":{"constant_value":"9bee6144-c866-45e0-a5ff-98991a9775a3"},"client_secret":{"constant_value":"ydv8Q~zgs42w8HeqWsVrnY6aqhwnuCP1zE4QQaQY"},"features":[{}],"subscription_id":{"constant_value":"84fc6d5d-6dc9-459d-b1af-715b14bec9ad"},"tenant_id":{"constant_value":"2a451167-efd5-4dcb-9679-5809757c2464"}}}},"root_module":{"outputs":{"backend_subnet_id":{"expression":{"references":["azurerm_subnet.backend.id","azurerm_subnet.backend"]},"description":"The ID of the backend subnet"},"db_subnet_id":{"expression":{"references":["azurerm_subnet.db.id","azurerm_subnet.db"]},"description":"The ID of the database subnet"},"frontend_nsg_id":{"expression":{"references":["azurerm_network_security_group.frontend_nsg.id","azurerm_network_security_group.frontend_nsg"]},"description":"The ID of the frontend network security group"},"frontend_subnet_id":{"expression":{"references":["azurerm_subnet.frontend.id","azurerm_subnet.frontend"]},"description":"The ID of the frontend subnet"},"resource_group_name":{"expression":{"references":["azurerm_resource_group.rg.name","azurerm_resource_group.rg"]},"description":"The name of the resource group"},"vnet_name":{"expression":{"references":["azurerm_virtual_network.vnet.name","azurerm_virtual_network.vnet"]},"description":"The name of the virtual network"}},"resources":[{"address":"azurerm_network_security_group.frontend_nsg","mode":"managed","type":"azurerm_network_security_group","name":"frontend_nsg","provider_config_key":"azurerm","expressions":{"location":{"references":["azurerm_resource_group.rg.location","azurerm_resource_group.rg"]},"name":{"references":["var.frontend_nsg_name"]},"resource_group_name":{"references":["azurerm_resource_group.rg.name","azurerm_resource_group.rg"]}},"schema_version":0},{"address":"azurerm_network_security_rule.allow_frontend","mode":"managed","type":"azurerm_network_security_rule","name":"allow_frontend","provider_config_key":"azurerm","expressions":{"access":{"constant_value":"Allow"},"destination_address_prefix":{"constant_value":"*"},"destination_port_ranges":{"constant_value":["80","443"]},"direction":{"constant_value":"Inbound"},"name":{"constant_value":"AllowFrontend"},"network_security_group_name":{"references":["azurerm_network_security_group.frontend_nsg.name","azurerm_network_security_group.frontend_nsg"]},"priority":{"constant_value":100},"protocol":{"constant_value":"*"},"resource_group_name":{"references":["azurerm_resource_group.rg.name","azurerm_resource_group.rg"]},"source_address_prefixes":{"references":["var.allowed_ips"]},"source_port_range":{"constant_value":"*"}},"schema_version":0},{"address":"azurerm_resource_group.rg","mode":"managed","type":"azurerm_resource_group","name":"rg","provider_config_key":"azurerm","expressions":{"location":{"references":["var.location"]},"name":{"references":["var.resource_group_name"]}},"schema_version":0},{"address":"azurerm_subnet.backend","mode":"managed","type":"azurerm_subnet","name":"backend","provider_config_key":"azurerm","expressions":{"address_prefixes":{"references":["var.backend_subnet_prefix"]},"name":{"references":["var.backend_subnet_name"]},"resource_group_name":{"references":["azurerm_resource_group.rg.name","azurerm_resource_group.rg"]},"virtual_network_name":{"references":["azurerm_virtual_network.vnet.name","azurerm_virtual_network.vnet"]}},"schema_version":0},{"address":"azurerm_subnet.db","mode":"managed","type":"azurerm_subnet","name":"db","provider_config_key":"azurerm","expressions":{"address_prefixes":{"references":["var.db_subnet_prefix"]},"name":{"references":["var.db_subnet_name"]},"resource_group_name":{"references":["azurerm_resource_group.rg.name","azurerm_resource_group.rg"]},"virtual_network_name":{"references":["azurerm_virtual_network.vnet.name","azurerm_virtual_network.vnet"]}},"schema_version":0},{"address":"azurerm_subnet.frontend","mode":"managed","type":"azurerm_subnet","name":"frontend","provider_config_key":"azurerm","expressions":{"address_prefixes":{"references":["var.frontend_subnet_prefix"]},"name":{"references":["var.frontend_subnet_name"]},"resource_group_name":{"references":["azurerm_resource_group.rg.name","azurerm_resource_group.rg"]},"virtual_network_name":{"references":["azurerm_virtual_network.vnet.name","azurerm_virtual_network.vnet"]}},"schema_version":0},{"address":"azurerm_subnet_network_security_group_association.frontend_association","mode":"managed","type":"azurerm_subnet_network_security_group_association","name":"frontend_association","provider_config_key":"azurerm","expressions":{"network_security_group_id":{"references":["azurerm_network_security_group.frontend_nsg.id","azurerm_network_security_group.frontend_nsg"]},"subnet_id":{"references":["azurerm_subnet.frontend.id","azurerm_subnet.frontend"]}},"schema_version":0},{"address":"azurerm_virtual_network.vnet","mode":"managed","type":"azurerm_virtual_network","name":"vnet","provider_config_key":"azurerm","expressions":{"address_space":{"references":["var.vnet_address_space"]},"location":{"references":["azurerm_resource_group.rg.location","azurerm_resource_group.rg"]},"name":{"references":["var.vnet_name"]},"resource_group_name":{"references":["azurerm_resource_group.rg.name","azurerm_resource_group.rg"]}},"schema_version":0}],"variables":{"allowed_ips":{"description":"The list of allowed IP addresses for the frontend"},"backend_subnet_name":{"description":"The name of the backend subnet"},"backend_subnet_prefix":{"description":"The address prefix for the backend subnet"},"db_subnet_name":{"description":"The name of the database subnet"},"db_subnet_prefix":{"description":"The address prefix for the database subnet"},"frontend_nsg_name":{"description":"The name of the frontend network security group"},"frontend_subnet_name":{"description":"The name of the frontend subnet"},"frontend_subnet_prefix":{"description":"The address prefix for the frontend subnet"},"location":{"default":"East US","description":"The Azure region to deploy resources"},"resource_group_name":{"description":"The name of the resource group"},"vnet_address_space":{"description":"The address space for the virtual network"},"vnet_name":{"description":"The name of the virtual network"}}}},"relevant_attributes":[{"resource":"azurerm_subnet.db","attribute":["id"]},{"resource":"azurerm_resource_group.rg","attribute":["name"]},{"resource":"azurerm_resource_group.rg","attribute":["location"]},{"resource":"azurerm_virtual_network.vnet","attribute":["name"]},{"resource":"azurerm_network_security_group.frontend_nsg","attribute":["name"]},{"resource":"azurerm_network_security_group.frontend_nsg","attribute":["id"]},{"resource":"azurerm_subnet.frontend","attribute":["id"]},{"resource":"azurerm_subnet.backend","attribute":["id"]}],"timestamp":"2024-05-31T15:48:59Z"}
